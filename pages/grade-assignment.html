<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade Assignment - Quirino Online Library Hub</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        .grade-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .grade-container h1 {
            color: #8B3A3A;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .submission-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #8B3A3A;
        }

        .info-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 15px;
        }

        .info-item {
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: #666;
            font-size: 13px;
        }

        .info-value {
            color: #333;
            margin-top: 4px;
            font-size: 15px;
        }

        .submission-content {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border: 1px solid #ddd;
        }

        .submission-content h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .submission-text {
            line-height: 1.8;
            color: #555;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            padding: 15px;
            background: white;
            border-radius: 6px;
        }

        .grading-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            border: 2px solid #8B3A3A;
        }

        .grading-section h3 {
            color: #8B3A3A;
            margin-bottom: 20px;
            font-size: 18px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #8B3A3A;
            box-shadow: 0 0 0 3px rgba(139, 58, 58, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .grade-input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .score-display {
            background: white;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }

        .score-display .label {
            font-size: 13px;
            color: #666;
            margin-bottom: 5px;
        }

        .score-display .value {
            font-size: 32px;
            font-weight: 700;
            color: #8B3A3A;
        }

        .score-display .percentage {
            font-size: 14px;
            color: #999;
            margin-top: 5px;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-submit {
            flex: 1;
            padding: 12px;
            background: linear-gradient(135deg, #8B3A3A 0%, #C84C4C 100%);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 58, 58, 0.4);
        }

        .btn-cancel {
            flex: 1;
            padding: 12px;
            background: #f0f0f0;
            color: #333;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            background: #E8D5D5;
        }

        .rubric {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
        }

        .rubric-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .rubric-item:last-child {
            border-bottom: none;
        }

        .rubric-label {
            font-weight: 600;
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
        }

        .alert {
            padding: 12px 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert-success {
            background: #FDF2F2;
            color: #8B3A3A;
            border: 1px solid #D97070;
        }

        .alert-error {
            background: #FDF2F2;
            color: #5C2E2E;
            border: 1px solid #D97070;
        }

        @media (max-width: 768px) {
            .grade-container {
                padding: 20px;
            }

            .info-row {
                grid-template-columns: 1fr;
            }

            .grade-input-row {
                grid-template-columns: 1fr;
            }

            .btn-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div style="background: #f8f9fa; min-height: 100vh; padding: 40px 20px;">
        <div class="grade-container">
            <h1>‚úèÔ∏è Grade Assignment</h1>
            <div class="alert alert-error" id="alertBox"></div>

            <!-- Student Submission Info -->
            <div class="submission-info">
                <div class="info-row">
                    <div>
                        <div class="info-item">
                            <div class="info-label">Assignment</div>
                            <div class="info-value">Book Review: The Great Gatsby</div>
                        </div>
                    </div>
                    <div>
                        <div class="info-item">
                            <div class="info-label">Student</div>
                            <div class="info-value">John Doe</div>
                        </div>
                    </div>
                </div>
                <div class="info-row">
                    <div>
                        <div class="info-item">
                            <div class="info-label">Submitted On</div>
                            <div class="info-value">Dec 9, 2025 at 2:30 PM</div>
                        </div>
                    </div>
                    <div>
                        <div class="info-item">
                            <div class="info-label">Due Date</div>
                            <div class="info-value">Dec 15, 2025</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submission Content -->
            <div class="submission-content">
                <h3>üìÑ Submission Content</h3>
                <div class="submission-text">
                    <p><strong>Student's Review:</strong></p>
                    <p>The Great Gatsby by F. Scott Fitzgerald is a masterpiece of American literature that captures the essence of the Jazz Age. Through the eyes of Nick Carraway, we witness the life of Jay Gatsby and his obsession with Daisy Buchanan...</p>
                    <p>The novel brilliantly explores themes of wealth, love, and the American Dream. Fitzgerald's vivid descriptions and complex characters make this a timeless classic that continues to resonate with readers today...</p>
                </div>
            </div>

            <!-- Grading Form -->
            <form id="gradeAssignmentForm">
                <div class="grading-section">
                    <h3>Grading Rubric</h3>

                    <div class="form-group">
                        <label>Content & Understanding (30 points)</label>
                        <div class="rubric">
                            <div class="rubric-item">
                                <div class="rubric-label">Score: <input type="number" name="content" min="0" max="30" value="0" style="width: 60px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;"> / 30</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Writing Quality (30 points)</label>
                        <div class="rubric">
                            <div class="rubric-item">
                                <div class="rubric-label">Score: <input type="number" name="writing" min="0" max="30" value="0" style="width: 60px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;"> / 30</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Analysis & Critique (25 points)</label>
                        <div class="rubric">
                            <div class="rubric-item">
                                <div class="rubric-label">Score: <input type="number" name="analysis" min="0" max="25" value="0" style="width: 60px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;"> / 25</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Organization & Format (15 points)</label>
                        <div class="rubric">
                            <div class="rubric-item">
                                <div class="rubric-label">Score: <input type="number" name="organization" min="0" max="15" value="0" style="width: 60px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;"> / 15</div>
                            </div>
                        </div>
                    </div>

                    <div class="grade-input-row">
                        <div>
                            <div class="form-group">
                                <label for="totalScore">Total Score</label>
                                <div class="score-display">
                                    <div class="label">Score</div>
                                    <div class="value" id="scoreDisplay">0</div>
                                    <div class="percentage" id="percentageDisplay">0%</div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="form-group">
                                <label for="grade">Grade Letter</label>
                                <input type="text" id="grade" name="grade" readonly style="background: #f0f0f0; cursor: not-allowed; text-align: center; font-size: 18px; font-weight: 700; color: #8B3A3A;">
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="feedback">Teacher Feedback</label>
                        <textarea id="feedback" name="feedback" placeholder="Provide constructive feedback for the student..."></textarea>
                    </div>

                    <div class="btn-group">
                        <button type="submit" class="btn-submit">Submit Grade</button>
                        <button type="button" class="btn-cancel" onclick="window.history.back()">Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        const form = document.getElementById('gradeAssignmentForm');
        const alertBox = document.getElementById('alertBox');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const percentageDisplay = document.getElementById('percentageDisplay');
        const gradeInput = document.getElementById('grade');

        // Update score on input change
        ['content', 'writing', 'analysis', 'organization'].forEach(name => {
            document.querySelector(`input[name="${name}"]`).addEventListener('change', updateScore);
        });

        function updateScore() {
            const content = parseInt(document.querySelector('input[name="content"]').value) || 0;
            const writing = parseInt(document.querySelector('input[name="writing"]').value) || 0;
            const analysis = parseInt(document.querySelector('input[name="analysis"]').value) || 0;
            const organization = parseInt(document.querySelector('input[name="organization"]').value) || 0;

            const total = content + writing + analysis + organization;
            const percentage = Math.round((total / 100) * 100);

            scoreDisplay.textContent = total;
            percentageDisplay.textContent = percentage + '%';

            // Calculate grade letter
            let gradeLetter = 'F';
            if (percentage >= 90) gradeLetter = 'A';
            else if (percentage >= 80) gradeLetter = 'B';
            else if (percentage >= 70) gradeLetter = 'C';
            else if (percentage >= 60) gradeLetter = 'D';

            gradeInput.value = gradeLetter;
        }

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            const content = parseInt(document.querySelector('input[name="content"]').value) || 0;
            const writing = parseInt(document.querySelector('input[name="writing"]').value) || 0;
            const analysis = parseInt(document.querySelector('input[name="analysis"]').value) || 0;
            const organization = parseInt(document.querySelector('input[name="organization"]').value) || 0;
            const feedback = document.getElementById('feedback').value;

            if (content + writing + analysis + organization === 0) {
                showAlert('Please enter at least some scores', 'error');
                return;
            }

            const gradeData = {
                student: 'John Doe',
                assignment: 'Book Review: The Great Gatsby',
                totalScore: content + writing + analysis + organization,
                grade: gradeInput.value,
                feedback: feedback,
                gradedDate: new Date().toLocaleString()
            };

            console.log('Grade submitted:', gradeData);
            showAlert('‚úÖ Grade submitted successfully! Redirecting...', 'success');

            setTimeout(() => {
                window.location.href = '../pages/teacher-dashboard.html';
            }, 1500);
        });

        function showAlert(message, type) {
            alertBox.textContent = message;
            alertBox.className = `alert alert-${type} show`;

            if (type === 'success') {
                setTimeout(() => {
                    alertBox.classList.remove('show');
                }, 1500);
            }
        }
    </script>
</body>
</html>






