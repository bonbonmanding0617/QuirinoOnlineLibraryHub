# Borrowing Statistics Page - Visual Reference & User Guide

## ğŸ“º Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š Borrowing Statistics    [Dashboard] [Profile] [Logout]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Borrowing Statistics                                   [Month â–¼] [â†»] â”‚
â”‚  Track and analyze library borrowing patterns and metrics            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“† Books         â”‚ ğŸ“ˆ Books         â”‚ ğŸ”„ Total Active  â”‚ âš ï¸ Overdue   â”‚
â”‚    Borrowed      â”‚    Borrowed      â”‚    Borrowings    â”‚    Books     â”‚
â”‚    This Week     â”‚    This Month    â”‚                  â”‚              â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚   35     â”‚  â”‚    â”‚   142    â”‚  â”‚    â”‚   78     â”‚  â”‚ â”‚   12     â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚    Last 7 days   â”‚    Dec 2025      â”‚    Not returned  â”‚  Past due    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ˆ Borrowing Trends                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Weekly Borrowing Trend           â”‚  Monthly Borrowing Trend          â”‚
â”‚                                   â”‚                                   â”‚
â”‚   30 â”‚                            â”‚   30 â”‚         â•±â•²              â”‚
â”‚   20 â”‚  â•‘ â•‘                       â”‚   20 â”‚        â•±  â•²    â•±        â”‚
â”‚   10 â”‚  â•‘ â•‘ â•‘ â•‘ â•‘ â•‘ â•‘            â”‚   10 â”‚  â•±â•²  â•±    â•²â•±  â•²â•±â•²      â”‚
â”‚    0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚    0 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚      Mon Tue Wed Thu Fri Sat Sun  â”‚      1  5  10 15 20 25 30       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š Most Borrowed Books (Monthly)â”‚  ğŸ‘¥ Top Borrowers (Monthly)      â”‚
â”œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”¤  â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚ Book Title       â”‚ Author   â”‚ â”‚  â”‚ Borrower Name â”‚ Role â”‚Borrowedâ”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1â”‚ To Kill a        â”‚Harper    â”‚ â”‚  â”‚ 1 John Smith  â”‚Stud. â”‚   8    â”‚
â”‚  â”‚ Mockingbird      â”‚Lee       â”‚ â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤  â”‚ 2 Sarah       â”‚Teach â”‚   7    â”‚
â”‚ 2â”‚ 1984             â”‚George    â”‚ â”‚  â”‚   Johnson     â”‚      â”‚        â”‚
â”‚  â”‚                  â”‚Orwell    â”‚ â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤  â”‚ 3 Michael     â”‚Stud. â”‚   6    â”‚
â”‚ 3â”‚ Pride and        â”‚Jane      â”‚ â”‚  â”‚   Brown       â”‚      â”‚        â”‚
â”‚  â”‚ Prejudice       â”‚Austen    â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤
â”‚ 4â”‚ The Great        â”‚F. Scott  â”‚ â”‚
â”‚  â”‚ Gatsby           â”‚Fitzgeraldâ”‚ â”‚
â”œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¤
â”‚ 5â”‚ Jane Eyre        â”‚Charlotte â”‚ â”‚
â”‚  â”‚                  â”‚BrontÃ«    â”‚ â”‚
â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”˜
```

---

## ğŸ¨ Color Coding

### Statistics Cards
- ğŸ”µ **Weekly Card** - Blue accent (#4A90E2)
- ğŸŸ¢ **Monthly Card** - Green accent (#7ED321)
- ğŸŸ  **Total Active** - Orange accent (#F5A623)
- ğŸ”´ **Overdue** - Red accent (#C84C4C)

### Status Indicators
- âœ… **Active** - Green
- âš ï¸ **Pending** - Orange
- âŒ **Overdue** - Red
- â„¹ï¸ **Info** - Blue

---

## ğŸ“± Screen Size Variants

### Desktop (1200px+)
```
Wide layout with 2-column charts
â”œâ”€ Left: Weekly Chart
â””â”€ Right: Monthly Chart

Two tables side-by-side
â”œâ”€ Top Books (left)
â””â”€ Top Borrowers (right)
```

### Tablet (768px - 1199px)
```
Single column charts
â”œâ”€ Weekly Chart (full width)
â””â”€ Monthly Chart (full width)

Single column tables
â”œâ”€ Top Books (full width)
â””â”€ Top Borrowers (full width)
```

### Mobile (<768px)
```
Stacked vertical layout
â”œâ”€ Stats cards (1 per row)
â”œâ”€ Charts (full width, scrollable)
â””â”€ Tables (scrollable horizontal)

Optimized touch targets (44px minimum)
```

---

## ğŸ”˜ Interactive Elements

### Buttons & Links
```
Primary Button (Action):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Borrowing Stats  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Click to navigate

Secondary Button (Logout):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸšª Logout         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Click to logout
```

### Form Controls
```
Month Filter:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2025-12 â–¼    â”‚  <- Click to change month
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Refresh Button:
â”Œâ”€â”€â”€â”€â”
â”‚ â†»  â”‚  <- Click to reload data
â””â”€â”€â”€â”€â”˜
```

### Hover States
- Cards lift up on hover (translateY)
- Links change opacity
- Buttons get shadow effect

---

## ğŸ“Š Data Table Structure

### Most Borrowed Books Table
```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Rankâ”‚ Book Title       â”‚ Author   â”‚ Times Borrow â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‘  â”‚ To Kill a        â”‚Harper    â”‚     15       â”‚
â”‚    â”‚ Mockingbird      â”‚Lee       â”‚              â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‘¡ â”‚ 1984             â”‚George    â”‚     12       â”‚
â”‚    â”‚                  â”‚Orwell    â”‚              â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â‘  = Styled rank badge with circular background
```

---

## ğŸ” Access Control Flow

```
User visits /pages/borrowing-statistics.html
                    â†“
         Check localStorage for userRole
                    â†“
        Is role 'admin' or 'teacher'?
         â†™                       â†˜
       YES                        NO
        â†“                          â†“
    Load Page              Redirect to login
  Display Stats                /index.html
```

---

## ğŸ“ˆ Chart Components

### Weekly Borrowing Chart (Bar Chart)
- **Type**: Vertical bar chart
- **Data**: Daily borrowings (Mon-Sun)
- **X-Axis**: Days of week
- **Y-Axis**: Number of books borrowed
- **Colors**: Dark red (#8B3A3A) with lighter borders
- **Height**: 400px responsive

### Monthly Borrowing Chart (Line Chart)
- **Type**: Line chart with area fill
- **Data**: Daily borrowings for 30 days
- **X-Axis**: Day of month (1-30)
- **Y-Axis**: Number of books borrowed
- **Colors**: Light red (#C84C4C) border, dark red (#8B3A3A) fill
- **Points**: Visible with white borders
- **Tension**: Smooth curves (0.4)
- **Height**: 400px responsive

---

## ğŸ¯ User Journey

### Admin User Journey
```
1. Click "Borrowing Statistics" from Dashboard
                â†“
2. View all statistics for the selected month
                â†“
3. Monitor trends and identify issues
                â†“
4. Change month to compare periods
                â†“
5. Review top books and borrowers
                â†“
6. Make decisions based on data
```

### Teacher User Journey
```
1. Click "Borrowing Statistics" from Quick Actions
                â†“
2. See current month's borrowing activity
                â†“
3. Identify popular books for curriculum
                â†“
4. Plan reading assignments
                â†“
5. Monitor student engagement
```

---

## ğŸ”„ Data Update Flow

```
User Loads Page
      â†“
Check Authentication
      â†“
Set Default Month (Current)
      â†“
Load Statistics Cards
      â†“
Render Charts (Weekly & Monthly)
      â†“
Populate Tables (Top Books & Borrowers)
      â†“
Page Ready for Interaction
      â†“
User Changes Month Filter
      â†“
refreshStatistics() Called
      â†“
All Data Reloaded
      â†“
Charts & Tables Updated
```

---

## ğŸ“Š Statistics Calculation Examples

### Weekly Borrowing
```
Week period: Last 7 calendar days
Count: All borrowings with status IN ('borrowed', 'approved')
Example: 
- Monday: 12 books
- Tuesday: 15 books
- ...
- Sunday: 8 books
- Total for week: 92 books
```

### Monthly Borrowing
```
Month period: Selected month (default: current)
Example for December 2025:
- Start: December 1, 2025
- End: December 31, 2025
- Count: All borrowings in this date range
- Daily breakdown: 1-30 items per day
```

### Top Books Ranking
```
Group by book_id
Count borrowing records per book
Order by count DESC
Limit to 5
Add rank position (1-5)
```

### Top Borrowers Ranking
```
Group by user_id
Count borrowing records per user
Include user name and role
Order by count DESC
Limit to 5
Add rank position (1-5)
```

---

## âŒš Loading States

### Initial Load
```
[Spinner] Loading statistics...
[Spinner] Loading charts...
[Spinner] Loading top books...
[Spinner] Loading top borrowers...
```

### After Data Load
```
Display all content with data
```

### Empty States
```
No data available

Used when:
- No borrowings in selected period
- No top books for month
- No active borrowers
```

---

## ğŸ¨ CSS Classes Reference

### Layout Classes
- `.container` - Main content wrapper
- `.navbar` - Top navigation bar
- `.stats-grid` - Statistics cards grid
- `.charts-grid` - Charts container grid
- `.tables-section` - Table containers

### Component Classes
- `.stat-card` - Individual stat card
- `.chart-container` - Chart wrapper
- `.table-section` - Table wrapper
- `.rank-badge` - Rank display badge

### State Classes
- `.loading` - Loading indicator
- `.error-message` - Error display
- `.success-message` - Success notification
- `.no-data` - Empty state

---

## ğŸ”— Navigation Structure

```
/pages/borrowing-statistics.html
    â”œâ”€ Links to: /pages/admin-dashboard.html
    â”œâ”€ Links to: /pages/admin-profile.html
    â”œâ”€ Links to: /pages/teacher-dashboard.html
    â””â”€ Links to: /index.html (on logout)

Accessible from:
    â”œâ”€ Admin Dashboard â†’ Library Management
    â””â”€ Teacher Dashboard â†’ Quick Actions
```

---

## ğŸ“ Responsive Behavior

### Screens 1200px+
- âœ… Full 2-column layout for charts
- âœ… Side-by-side tables
- âœ… All information visible
- âœ… No horizontal scrolling

### Screens 768px - 1199px
- âœ… Single column charts
- âœ… Single column tables
- âœ… Still fully readable
- âœ… Optimized for touch

### Screens < 768px
- âœ… Stacked vertical layout
- âœ… Full-width components
- âœ… Touch-friendly spacing (44px min)
- âœ… Readable font sizes (16px+)

---

## ğŸ“ Terminology Guide

- **Borrowed** - Book taken from library
- **Active Borrowing** - Book currently out (not returned)
- **Overdue** - Book past its due date
- **Borrower** - User who borrowed a book
- **Period** - Time range (week/month)
- **Trend** - Pattern of change over time

---

## âœ… Feature Checklist for Users

- [x] View current week's borrowing stats
- [x] View monthly borrowing stats
- [x] See total active borrowed books
- [x] Monitor overdue books
- [x] View weekly trend chart
- [x] View monthly trend chart
- [x] See top 5 books by popularity
- [x] See top 5 borrowers
- [x] Filter by month
- [x] Refresh data on demand
- [x] Responsive on all devices
- [x] Access from admin/teacher dashboard

---

**Last Updated**: December 11, 2025
**Version**: 1.0
**Status**: Ready for Production
